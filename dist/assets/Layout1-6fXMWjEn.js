import{j as e,a as y,r as x}from"./react-C-yax-zd.js";import{S as J}from"./react-perfect-scrollbar-hpYydyYL.js";import{A as Z,u as V,s as de,a as pe,t as B,r as j,w as F,p as he,x as me,y as xe,z as ue,B as W}from"./index-eXxrUaeE.js";import{e as ge}from"./@tanstack-CH50zjZF.js";import{A as fe}from"./AlertError-Drenn0X8.js";import{A as je}from"./AlertLoading-CGYU8vZk.js";import{n as be}from"./notification-CZdNX9HX.js";import{g as ee,G as te}from"./graphql-request-rGYrdPjm.js";import{a0 as G,e as k,an as ve,bB as ye,M as ne,ai as Se,bC as D,aQ as Ce,a5 as we,a6 as Ie,a7 as Ne,a8 as Re,g as oe,B as p,aG as r,ae as L,P as Te,u as S,i as ke,a2 as Le,am as Ae,c as Be,a as ze,T,f as v,$ as C,aM as Ee,bD as Me,be as Pe,bE as De,bF as Oe,bG as Ve,aE as w,bH as $e,bI as O,aX as I,bz as se,ap as He,a4 as Fe,as as We,bJ as Ge,bK as _e,aV as Ue,j as ie,bL as qe,bM as Qe,bN as Xe,ar as Ke,b7 as Ye,bO as Je,bP as Ze}from"./@mui-Cg5JgIJd.js";import{S as R,P as $,b as _}from"./Typography-SNySdv6H.js";import{N as et,L as ae}from"./react-router-dom-BXf9Krd-.js";import{c as U}from"./clsx-B-dksMZM.js";import{b as tt,O as q}from"./react-router-m6rhPc7O.js";import"./@babel-BWOPM2cf.js";import"./prop-types-tGFuYKac.js";import"./perfect-scrollbar-BfaLzep3.js";import"./rc-input-number-DHeBSjOn.js";import"./@rc-component-BLzWySNC.js";import"./classnames-F3cnkUDL.js";import"./rc-input-CDxr26_S.js";import"./rc-util-RNQGGLoE.js";import"./react-is-DcfIKM1A.js";import"./react-toastify-Bq65RiZx.js";import"./react-datepicker-D7PCQ8zk.js";import"./date-fns-9p2ure4y.js";import"./react-onclickoutside-vgQ6ifgl.js";import"./react-dom-BMaWjgIA.js";import"./scheduler-CzFDRTuY.js";import"./@floating-ui-BqRERJ-b.js";import"./lodash-Dwhj6_6J.js";import"./jwt-decode-VWaDGczM.js";import"./sweetalert2-CxYvYGPM.js";import"./nanoid-CeQjyfxW.js";import"./@remix-run-DEp2-txB.js";import"./@emotion-D9k8Qpvi.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./stylis-NkKAe6Bn.js";import"./react-transition-group-C1IEqfrK.js";import"./dom-helpers-D0mFdbeO.js";import"./@popperjs-BQBsAJpH.js";import"./graphql-BS3ZITc9.js";import"./cross-fetch-Ml2K_YIJ.js";const nt=ee`
  query MI_RESTRICCION {
    usuarioRestriccion {
      sucursales {
        codigo
        telefono
        direccion
        departamento {
          codigo
          codigoPais
          sigla
          departamento
        }
        municipio
        puntosVenta {
          codigo
          tipoPuntoVenta {
            codigoClasificador
            descripcion
          }
          nombre
          descripcion
        }
      }
    }
  }
`,ot=async()=>{const t=new te("https://sandbox.isipass.net/api"),n=localStorage.getItem(Z);return t.setHeader("authorization",`Bearer ${n}`),(await t.request(nt)).usuarioRestriccion},st=ee`
  mutation CAMBIAR_SUCURSAL_PUNTO_VENTA_ACTIVO(
    $codigoSucursal: Int!
    $codigoPuntoVenta: Int!
  ) {
    usuarioCambiarSucursalPuntoVentaActivo(
      codigoSucursal: $codigoSucursal
      codigoPuntoVenta: $codigoPuntoVenta
    ) {
      nombres
      restriccionActivo {
        codigoSucursal
        codigoPuntoVenta
      }
    }
  }
`,it=async({codigoSucursal:t,codigoPuntoVenta:n})=>{const o=new te("https://sandbox.isipass.net/api"),a=localStorage.getItem(Z);return o.setHeader("authorization",`Bearer ${a}`),(await o.request(st,{codigoSucursal:t,codigoPuntoVenta:n})).usuarioCambiarSucursalPuntoVentaActivo},at=t=>{const{user:n}=V(),{data:o,isError:a,error:i,isLoading:s}=ge({queryKey:["restriccionUsuario"],queryFn:async()=>(await ot()).sucursales,refetchOnWindowFocus:!1,refetchInterval:!1}),d=async(c,l)=>{await de({text:`¿Cambiar a la Sucursal <strong>${c}</strong> / Punto Venta <strong>${l}</strong>?`,preConfirm:()=>it({codigoSucursal:c,codigoPuntoVenta:l}).catch(h=>(pe(h),!1))}).then(h=>{h.isConfirmed&&(be(),setTimeout(()=>{window.location.reload()},1))})};return a?e.jsx(fe,{mensaje:i&&i.message}):e.jsx(e.Fragment,{children:s?e.jsx(je,{}):o.map(c=>e.jsxs(y.Fragment,{children:[e.jsx(G,{color:"info",children:e.jsxs(k,{children:[e.jsxs("strong",{children:["SUCURSAL ",c.codigo]})," / ",c.departamento.departamento," -"," ",c.municipio," / ",c.direccion," / ",c.telefono]})}),e.jsx(ve,{}),e.jsx(ye,{children:c.puntosVenta.length>0?c.puntosVenta.map(l=>!(n.sucursal.codigo===c.codigo&&n.puntoVenta.codigo===l.codigo)&&e.jsxs(ne,{onClick:()=>d(c.codigo,l.codigo),children:[e.jsx(Se,{children:e.jsx(D,{fontSize:"small",color:"info"})}),e.jsxs(Ce,{children:[e.jsxs("strong",{children:["Suc. ",c.codigo]})," /"," ",e.jsxs("strong",{children:["PUNTO VENTA ",l.codigo]})," / ",l.nombre," /"," ",l.tipoPuntoVenta.descripcion]})]},l.codigo)):e.jsx(G,{title:"Ya se encuentra en el punto de venta activo"})})]},c.codigo))})},rt=t=>{const{onClose:n,open:o,...a}=t,i=()=>{n()};return e.jsx(e.Fragment,{children:e.jsxs(we,{sx:{"& .MuiDialog-paper":{width:"90%",maxHeight:"85vh"}},maxWidth:"md",open:o,...a,children:[e.jsx(Ie,{children:"Cambiar Sucursal / Punto Venta"}),e.jsx(Ne,{dividers:!0,children:e.jsx(at,{})}),e.jsx(Re,{children:e.jsx(oe,{autoFocus:!0,color:"error",size:"small",variant:"contained",onClick:i,sx:{mr:2},children:"Cerrar"})})]})})},H=55,ct=55,z=260,re=80,lt=t=>{const{color:n,children:o,...a}=t;return e.jsx(e.Fragment,{children:e.jsx(p,{component:"span",sx:i=>({backgroundColor:n==="info"?i.palette.info.dark:n==="warning"?i.palette.warning.dark:n==="success"?i.palette.success.dark:i.palette.error.dark,borderRadius:"0.25rem",color:"#fff",maxWidth:"9ch",pt:"0.25rem",pb:"0.25rem",pl:"0.5rem",pr:"0.5rem"}),...a,children:o})})},dt=r(L)(({theme:t})=>({color:t.palette.text.primary})),pt=r("div")(({theme:t})=>({top:0,zIndex:96,transition:"all 0.3s ease",boxShadow:B[5],height:ct,background:t.palette.background.default})),ht=r(Te)(({theme:t})=>({paddingLeft:0,paddingRight:0,display:"flex",height:"100%",alignItems:"center",background:t.palette.background.default,borderRadius:0,justifyContent:"space-between"})),mt=()=>{const t=S(),[n,o]=x.useState(!1),{logout:a,user:i}=V(),s=()=>{o(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(pt,{children:e.jsx(ht,{children:e.jsx(ke,{component:"div",style:{padding:"0 20px",borderRadius:0,height:"100%",background:"none"},children:e.jsxs(Le,{sx:{minWidth:800,height:"100%"},size:"small",children:[e.jsx(Ae,{}),e.jsx(Be,{children:e.jsxs(ze,{sx:{"&:last-child td, &:last-child th":{border:0,padding:0}},children:[e.jsx(T,{sx:{minWidth:200,maxWidth:400,padding:0},children:e.jsx(lt,{color:"info",title:"Razón social",children:i.razonSocial})}),e.jsxs(T,{align:"left",sx:{width:270},children:[e.jsx(v,{title:i.sucursal.direccion,children:e.jsx(C,{icon:e.jsx(Ee,{}),color:"success",label:e.jsx(e.Fragment,{children:e.jsxs("strong",{children:["Sucursal ",i.sucursal.codigo]})}),variant:"outlined",size:"small"})})," ",e.jsx(v,{title:i.puntoVenta.nombre,children:e.jsx(C,{icon:e.jsx(Me,{}),color:"success",size:"small",label:e.jsx(e.Fragment,{children:e.jsxs("strong",{children:["Punto Venta ",i.puntoVenta.codigo]})}),variant:"outlined"})})]}),e.jsx(T,{align:"left",sx:{width:180},children:e.jsx(v,{title:"Moneda general",children:e.jsx(C,{icon:e.jsx(Pe,{}),label:e.jsxs(e.Fragment,{children:["Moneda ",e.jsx("strong",{children:i.monedaTienda.sigla})]}),variant:"outlined",size:"small"})})}),e.jsx(T,{align:"left",sx:{width:60},children:e.jsx(v,{title:"Cambiar Sucursal / PuntoVenta",leaveDelay:50,children:e.jsx(dt,{color:"success",onClick:s,theme:t,"aria-label":"Cambiar Sucursal / Punto Venta",style:{padding:0,margin:0},size:"small",children:e.jsx(De,{fontSize:"large"})})})}),e.jsx(T,{align:"left",sx:{width:60},children:e.jsx(v,{title:`Ambiente ${i.miEmpresa.codigoAmbiente===1?"PRODUCCIÓN":"PILOTO"}`,leaveDelay:50,children:e.jsx(L,{color:i.miEmpresa.codigoAmbiente===1?"success":"warning",style:{padding:0,margin:0},size:"small",children:e.jsx(Oe,{fontSize:"large"})})})})]})})]})})})}),e.jsx(rt,{id:"CuentaRestriccion",keepMounted:!0,open:n,onClose:()=>{o(!1)}})]})},E=y.memo(mt),xt=r(Ve)(()=>({display:"flex",alignItems:"center",minHeight:H,"@media (max-width: 499px)":{display:"table",width:"100%",minHeight:"auto",padding:"1rem 0","& .container":{flexDirection:"column !important","& a":{margin:"0 0 16px !important"}}}})),ut=r("div")(()=>({width:"100%",display:"flex",alignItems:"center",padding:"0px 1rem",maxWidth:"1170px",margin:"0 auto"})),gt="ISI.INVOICE",ft="https://integrate.com.bo",M=()=>{const t=S(),{settings:n}=j(),o=n.themes[n.footer.theme]||t;return e.jsx(w,{theme:o,children:e.jsx($e,{color:"primary",position:"static",sx:{zIndex:96},children:e.jsx(xt,{children:e.jsxs(ut,{children:[e.jsx(R,{sx:{m:"auto"}}),e.jsxs($,{sx:{m:0},children:[e.jsxs("a",{href:ft,target:"_blank",rel:"noreferrer",children:["© ",gt]})," 2003-2024 "]})]})})})})},jt=({children:t})=>{const n=S(),{settings:o}=j(),a=o.themes[o.layout1Settings.leftSidebar.theme]||n;return e.jsx(w,{theme:a,children:t})},bt=r(p)(({theme:t})=>({display:"flex",alignItems:"center",justifyContent:"space-between",padding:"20px 18px 20px 29px"})),vt=r(R)(({theme:t,mode:n})=>({fontSize:18,marginLeft:".5rem",display:n==="compact"?"none":"block",marginTop:n==="compact"?"0":"10px"})),yt="/assets/images/integrate/logo-mini.png",St="ISI.INVOICE",Ct=({children:t})=>{const{settings:n}=j(),o=n.layout1Settings.leftSidebar,{mode:a}=o;return e.jsxs(bt,{children:[e.jsxs(p,{display:"flex",alignItems:"center",children:[e.jsx("img",{src:yt,style:{height:30},alt:""}),e.jsx(vt,{mode:a,className:"sidenavHoverShow",children:St})]}),e.jsx(p,{className:"sidenavHoverShow",sx:{display:a==="compact"?"none":"block"},children:t||null})]})},wt={gestion:"/proveedor/gestion",nuevo:"/proveedor/nuevo",modificar:"/proveedor/modificar"},It=[{name:F.home.name,icon:"home",path:F.home.path},{name:"SEGURIDAD",label:"TRANSACCIONES",type:"label"},{name:"Facturacion ICE",icon:"point_of_sale",children:[{name:"Registrar ICE",iconText:"ALRE",path:"/ventas/registro"},{name:"Gestión de Facturas ICE",iconText:"ALGE",path:"/ventas/gestion"}]},{name:"Productos / Servicios",icon:"storefront_sharp",children:[{name:"Gestión de Servicios",iconText:"GP",path:he.gestion},{name:"Proveedores",iconText:"PR",path:wt.gestion},{name:"Gestión de Alicuotas",iconText:"AL",path:"/alicuota/gestion"}]},{name:"Clientes",icon:"person_sharp",badge:{value:"",color:"secondary"},children:[{name:"Gestión de clientes",path:"/clientes/gestion",iconText:"GC"}]}],Nt=r("div")(({theme:t})=>({"& .expandIcon":{transition:"transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms",transform:"rotate(90deg)"},"& .collapseIcon":{transition:"transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms",transform:"rotate(0deg)"},"& .expansion-panel":{overflow:"hidden",transition:"max-height 0.3s cubic-bezier(0, 0, 0.2, 1)"},"& .highlight":{background:t.palette.primary.main},"&.compactNavItem":{width:44,overflow:"hidden",justifyContent:"center !important","& .itemText":{display:"none"},"& .itemIcon":{display:"none"}}})),Rt=r(O)(({theme:t})=>({height:44,width:"100%",whiteSpace:"pre",overflow:"hidden",paddingRight:"16px",borderRadius:"4px",marginBottom:"8px",display:"flex",justifyContent:"space-between !important",color:t.palette.text.primary,"&:hover":{background:"rgba(255, 255, 255, 0.08)"},"& .icon":{width:36,fontSize:"18px",paddingLeft:"16px",paddingRight:"16px",verticalAlign:"middle"}})),Tt=r("div")(({theme:t})=>({width:4,height:4,color:"inherit",overflow:"hidden",marginLeft:"20px",marginRight:"8px",borderRadius:"300px !important",background:t.palette.text.primary})),kt=r("span")(()=>({fontSize:"0.875rem",paddingLeft:"0.8rem",verticalAlign:"middle"})),Lt=r("div")(()=>({padding:"1px 4px",overflow:"hidden",borderRadius:"300px"})),At=({item:t,children:n,mode:o})=>{const[a,i]=x.useState(!0),s=x.useRef(null),d=x.useRef(0),{pathname:c}=tt(),{name:l,icon:h,iconText:g,badge:b}=t,u=()=>{d.current=0,f(s.current),i(!a)},f=x.useCallback(m=>{if(m.name!=="child")for(let N of m.children)f(N);m.name==="child"?d.current+=m.scrollHeight:d.current+=44},[]);return x.useEffect(()=>{if(s){f(s.current);for(let m of s.current.children)m.getAttribute("href")===c&&i(!1)}},[c,f]),e.jsxs(Nt,{children:[e.jsxs(Rt,{className:U({"has-submenu compactNavItem":!0,compactNavItem:o==="compact",open:!a}),onClick:u,children:[e.jsxs(p,{display:"flex",alignItems:"center",children:[h&&e.jsx(I,{className:"icon",children:h}),g&&e.jsx(Tt,{}),e.jsx(kt,{className:"sidenavHoverShow",children:l})]}),b&&e.jsx(Lt,{className:"sidenavHoverShow itemIcon",children:b.value}),e.jsx("div",{className:U({sidenavHoverShow:!0,collapseIcon:a,expandIcon:!a}),children:e.jsx(I,{fontSize:"small",sx:{verticalAlign:"middle"},children:"chevron_right"})})]}),e.jsx("div",{ref:s,className:"expansion-panel submenu",style:a?{maxHeight:"0px"}:{maxHeight:d.current+"px"},children:n})]})},Bt=r($)(({theme:t,mode:n})=>({fontSize:"12px",marginTop:"20px",marginLeft:"15px",marginBottom:"10px",textTransform:"uppercase",display:n==="compact"&&"none",color:t.palette.text.secondary})),ce={display:"flex",overflow:"hidden",borderRadius:"4px",height:44,whiteSpace:"pre",marginBottom:"8px",textDecoration:"none",justifyContent:"space-between",transition:"all 150ms ease-in","&:hover":{background:"rgba(255, 255, 255, 0.08)"},"&.compactNavItem":{overflow:"hidden",justifyContent:"center !important"},"& .icon":{fontSize:"18px",paddingLeft:"16px",paddingRight:"16px",verticalAlign:"middle"}},zt=r("a")(({theme:t})=>({...ce,color:t.palette.text.primary})),Et=r(p)(({theme:t})=>({"& a":{...ce,color:t.palette.text.primary},"& .navItemActive":{backgroundColor:"rgba(255, 255, 255, 0.16)"}})),Q=r(R)(({mode:t})=>({fontSize:"0.875rem",paddingLeft:"0.8rem",display:t==="compact"&&"none"})),Mt=r("div")(({theme:t})=>({padding:"2px",marginLeft:"24px",marginRight:"8px",overflow:"hidden",borderRadius:"300px",background:t.palette.text.primary})),X=r("div")(()=>({padding:"1px 8px",overflow:"hidden",borderRadius:"300px"})),Pt=({items:t})=>{const{settings:n}=j(),{mode:o}=n.layout1Settings.leftSidebar,a=i=>i.map((s,d)=>s.type==="label"?e.jsx(Bt,{mode:o,className:"sidenavHoverShow",children:s.label},d):s.children?e.jsx(At,{mode:o,item:s,children:a(s.children)},d):s.type==="extLink"?e.jsx(zt,{href:s.path,className:`${o==="compact"&&"compactNavItem"}`,rel:"noopener noreferrer",target:"_blank",children:e.jsxs(O,{name:"child",sx:{width:"100%"},children:[s.icon?e.jsx(I,{className:"icon",children:s.icon}):e.jsx("span",{className:"item-icon icon-text",children:s.iconText}),e.jsx(Q,{mode:o,className:"sidenavHoverShow",children:s.name}),e.jsx(p,{mx:"auto"}),s.badge&&e.jsx(X,{children:s.badge.value})]},s.name)},d):e.jsx(Et,{children:e.jsx(et,{to:s.path,className:({isActive:c})=>c?`navItemActive ${o==="compact"&&"compactNavItem"}`:`${o==="compact"&&"compactNavItem"}`,children:e.jsxs(O,{name:"child",sx:{width:"100%"},children:[s!=null&&s.icon?e.jsx(I,{className:"icon",sx:{width:36},children:s.icon}):e.jsxs(x.Fragment,{children:[e.jsx(Mt,{className:"nav-bullet",sx:{display:o==="compact"&&"none"}}),e.jsx(p,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:o!=="compact"?"none":"compact"},children:s.iconText})]}),e.jsx(Q,{mode:o,className:"sidenavHoverShow",children:s.name}),e.jsx(p,{mx:"auto"}),s.badge&&e.jsx(X,{className:"sidenavHoverShow",children:s.badge.value})]},s.name)})},d));return e.jsx("div",{className:"navigation",children:a(t)})},Dt=y.memo(Pt),Ot=r(J)(()=>({paddingLeft:"1rem",paddingRight:"1rem",position:"relative"})),Vt=r("div")(({theme:t})=>({position:"fixed",top:0,left:0,bottom:0,right:0,width:"100vw",background:"rgba(0, 0, 0, 0.54)",zIndex:-1,[t.breakpoints.up("lg")]:{display:"none"}})),$t=({children:t})=>{const{settings:n,updateSettings:o}=j(),a=i=>{let s=n.activeLayout+"Settings",d=n[s];o({...n,[s]:{...d,leftSidebar:{...d.leftSidebar,...i}}})};return e.jsxs(x.Fragment,{children:[e.jsxs(Ot,{options:{suppressScrollX:!0},children:[t,e.jsx(Dt,{items:It})]}),e.jsx(Vt,{onClick:()=>a({mode:"close"})})]})},Ht=r(p)(({theme:t,width:n,primarybg:o,bgimgurl:a})=>({position:"fixed",top:0,left:0,height:"100vh",width:n,boxShadow:B[8],backgroundRepeat:"no-repeat",backgroundPosition:"top",backgroundSize:"cover",zIndex:111,overflow:"hidden",color:t==null?void 0:t.palette.text.primary,transition:"all 250ms ease-in-out",backgroundImage:`linear-gradient(to bottom, rgba(${o}, 0.96), rgba(${o}, 0.96)), url(${a})`,"&:hover":{width:z,"& .sidenavHoverShow":{display:"block"},"& .compactNavItem":{width:"100%",maxWidth:"100%","& .nav-bullet":{display:"block"},"& .nav-bullet-text":{display:"none"}}}})),Ft=r(p)(()=>({height:"100%",display:"flex",flexDirection:"column"})),Wt=()=>{const t=S(),{settings:n,updateSettings:o}=j(),a=n.layout1Settings.leftSidebar,{mode:i,bgImgURL:s}=a,d=()=>{switch(i){case"compact":return re;default:return z}},c=me(t.palette.primary.main),l=g=>{o({layout1Settings:{leftSidebar:{...g}}})},h=()=>{l({mode:i==="compact"?"full":"compact"})};return e.jsx(Ht,{bgimgurl:s,primarybg:c,width:d(),children:e.jsxs(Ft,{children:[e.jsx(Ct,{children:e.jsx(se,{smDown:!0,children:e.jsx(He,{onChange:h,checked:a.mode!=="full",color:"secondary",size:"small"})})}),e.jsx($t,{})]})})},Gt=y.memo(Wt),_t=(t,n)=>{switch(n.type){case"LOAD_NOTIFICATIONS":return{...t,notifications:n.payload};case"DELETE_NOTIFICATION":return{...t,notifications:n.payload};case"CLEAR_NOTIFICATIONS":return{...t,notifications:n.payload};default:return{...t}}},le=x.createContext({notifications:[],deleteNotification:()=>{},clearNotifications:()=>{},getNotifications:()=>{},createNotification:()=>{}}),Ut=({settings:t,children:n})=>{const[o,a]=x.useReducer(_t,[]),i=async l=>{},s=async()=>{},d=async()=>{},c=async l=>{};return x.useEffect(()=>{d().then()},[]),e.jsx(le.Provider,{value:{notifications:o.notifications,deleteNotification:i,clearNotifications:s,getNotifications:d,createNotification:c},children:n})},qt=r(p)(({theme:t})=>({display:"inline-block",color:t.palette.text.primary,"& div:hover":{backgroundColor:t.palette.action.hover}})),Qt=t=>{const[n,o]=y.useState(null),a=y.Children.toArray(t.children);let{shouldCloseOnItemClick:i=!0,horizontalPosition:s="left"}=t;const{settings:d}=j(),c=h=>{o(h.currentTarget)},l=()=>{o(null)};return e.jsxs(x.Fragment,{children:[e.jsx(qt,{onClick:c,children:t.menuButton}),e.jsx(w,{theme:d.themes[d.activeTheme],children:e.jsx(Fe,{elevation:8,anchorEl:n,open:!!n,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:s},transformOrigin:{vertical:"top",horizontal:s},children:a.map((h,g)=>e.jsx("div",{onClick:i?l:()=>{},children:h},g))})})]})},Xt=()=>x.useContext(le),Kt=r("div")(()=>({padding:"16px",marginBottom:"16px",display:"flex",alignItems:"center",height:H,boxShadow:B[6],"& h5":{marginLeft:"8px",marginTop:0,marginBottom:0,fontWeight:"500"}})),Yt=r(p)(({theme:t})=>({position:"relative","&:hover":{"& .messageTime":{display:"none"},"& .deleteButton":{opacity:"1"}},"& .messageTime":{color:t.palette.text.secondary},"& .icon":{fontSize:"1.25rem"}})),Jt=r(L)(({theme:t})=>({opacity:"0",position:"absolute",right:5,marginTop:9,marginRight:"24px",background:"rgba(0, 0, 0, 0.01)"})),Zt=r("div")(({theme:t})=>({padding:"12px 8px",display:"flex",alignItems:"center",justifyContent:"space-between",background:"rgba(0, 0, 0, 0.01)","& small":{fontWeight:"500",marginLeft:"16px",color:t.palette.text.secondary}})),en=r("span")(({theme:t})=>({fontWeight:"500",marginLeft:"16px",color:t.palette.text.secondary})),tn=({container:t})=>{const{settings:n}=j(),a=S().palette.text.secondary,[i,s]=x.useState(!1),{deleteNotification:d,clearNotifications:c,notifications:l}=Xt(),h=()=>{s(!i)},{palette:g}=S(),b=g.text.primary;return e.jsxs(x.Fragment,{children:[e.jsx(L,{onClick:h,children:e.jsx(We,{color:"secondary",badgeContent:l==null?void 0:l.length,children:e.jsx(Ge,{sx:{color:b},children:"notifications"})})}),e.jsx(w,{theme:n.themes[n.activeTheme],children:e.jsx(_e,{style:{width:"100px"},container:t,variant:"temporary",anchor:"right",open:i,onClose:h,ModalProps:{keepMounted:!0},children:e.jsxs(p,{sx:{width:z},children:[e.jsxs(Kt,{children:[e.jsx(I,{color:"primary",children:"notifications"}),e.jsx("h5",{children:"Notifications"})]}),l==null?void 0:l.map(u=>e.jsxs(Yt,{children:[e.jsx(Jt,{size:"small",className:"deleteButton",onClick:()=>d(u.id),children:e.jsx(I,{className:"icon",children:"clear"})}),e.jsx(ae,{to:`/${u.path}`,onClick:h,style:{textDecoration:"none"},children:e.jsxs(Ue,{sx:{mx:2,mb:3},elevation:3,children:[e.jsxs(Zt,{children:[e.jsxs(p,{display:"flex",children:[e.jsx(I,{className:"icon",color:u.icon.color,children:u.icon.name}),e.jsx(en,{children:u.heading})]}),e.jsxs(_,{className:"messageTime",children:[xe(new Date(u.timestamp)),"ago"]})]}),e.jsxs(p,{sx:{px:2,pt:1,pb:2},children:[e.jsx($,{sx:{m:0},children:u.title}),e.jsx(_,{sx:{color:a},children:u.subtitle})]})]})})]},u.id)),!!(l!=null&&l.length)&&e.jsx(p,{sx:{color:a},children:e.jsx(oe,{onClick:c,children:"Vaciar Notificaciones"})})]})})})]})},A=r(L)(({theme:t})=>({color:t.palette.text.primary})),nn=r("div")(()=>({top:0,zIndex:96,transition:"all 0.3s ease",boxShadow:B[8],height:H})),on=r(p)(({theme:t})=>({padding:"8px",paddingLeft:18,paddingRight:20,height:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",background:t.palette.background.default,[t.breakpoints.down("sm")]:{paddingLeft:16,paddingRight:16},[t.breakpoints.down("xs")]:{paddingLeft:14,paddingRight:16}})),sn=r(p)({padding:4,display:"flex",borderRadius:24,cursor:"pointer",alignItems:"center","& span":{margin:"0 8px"}}),K=r(ne)(({theme:t})=>({display:"flex",alignItems:"center",minWidth:185,"& a":{width:"100%",display:"flex",alignItems:"center",textDecoration:"none"},"& span":{marginRight:"10px",color:t.palette.text.primary}})),Y=r("div")(({theme:t})=>({display:"inherit",[t.breakpoints.down("md")]:{display:"none !important"}})),an=()=>{const t=S(),{settings:n,updateSettings:o}=j(),{logout:a,user:i}=V(),s=ie(t.breakpoints.down("md")),[d,c]=x.useState(null),l=m=>{o({layout1Settings:{leftSidebar:{...m}}})},h=()=>{const{layout1Settings:m}=n;let N;s?N=m.leftSidebar.mode==="close"?"mobile":"close":N=m.leftSidebar.mode==="full"?"close":"full",l({mode:N})},g=m=>{c(m.currentTarget)},b=()=>{c(null)},u=!!d,f=u?"simple-popover":void 0;return e.jsx(nn,{children:e.jsxs(on,{children:[e.jsxs(p,{display:"flex",children:[e.jsx(A,{onClick:h,children:e.jsx(qe,{children:"Menu"})}),e.jsx(Y,{children:e.jsx(A,{children:e.jsx(v,{title:"Módulo de Administración",children:e.jsx(C,{size:"small",icon:e.jsx(Qe,{}),color:"primary",variant:"outlined",label:"ICE"})})})}),e.jsxs(Y,{children:[e.jsx(A,{children:e.jsx(v,{title:"Comercio",children:e.jsx(C,{icon:e.jsx(Xe,{}),size:"small",variant:"outlined",color:"info",label:i.miEmpresa.tienda,onClick:m=>g(m),"aria-describedby":f})})}),e.jsx(Ke,{id:f,open:u,anchorEl:d,onClose:b,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:e.jsxs(p,{sx:{p:2,maxWidth:"80%"},children:[e.jsxs(k,{gutterBottom:!0,children:["URL Comercio: ",e.jsx("strong",{children:i.miEmpresa.tienda})]}),e.jsxs(k,{gutterBottom:!0,children:["Rol: ",e.jsx("strong",{children:i.rol})]}),e.jsx(k,{gutterBottom:!0,children:e.jsx("strong",{children:"ACCESOS PERMITIDOS"})}),e.jsx(p,{sx:{display:"grid",gridTemplateRows:"repeat(2, 1fr)",pl:1},children:i.dominio.map(m=>e.jsx(k,{variant:"body2",children:m},m))})]})})]}),e.jsx(A,{children:e.jsx(v,{title:"Ambiente",children:i.miEmpresa.codigoAmbiente===1?e.jsx(C,{size:"small",icon:e.jsx(D,{}),color:"success",label:"Producción"}):e.jsx(C,{size:"small",icon:e.jsx(D,{}),color:"warning",label:"Piloto"})})})]}),e.jsxs(p,{display:"flex",alignItems:"center",children:[e.jsx(Ut,{children:e.jsx(tn,{})}),e.jsxs(Qt,{menuButton:e.jsxs(sn,{children:[e.jsx(se,{xsDown:!0,children:e.jsxs(R,{children:["Hola ",e.jsx("strong",{children:i.nombres})]})}),e.jsx(Ye,{src:i.avatar,sx:{cursor:"pointer"}})]}),children:[e.jsx(K,{children:e.jsxs(ae,{to:ue.cuenta,children:[e.jsx(Je,{children:" settings "}),"   ",e.jsx(R,{children:" Opciones "})]})}),e.jsxs(K,{onClick:()=>a(),children:[e.jsx(Ze,{children:" power_settings_new "}),"   ",e.jsx(R,{children:" Cerrar Sesión "})]})]})]})]})})},P=y.memo(an),rn=r(p)(({theme:t})=>({display:"flex",background:t.palette.background.default})),cn=r(p)(()=>({height:"100%",display:"flex",overflowY:"auto",overflowX:"hidden",flexDirection:"column",justifyContent:"space-between"})),ln=r(J)(()=>({height:"100%",position:"relative",display:"flex",flexGrow:"1",flexDirection:"column"})),dn=r(p)(({width:t,open:n})=>({height:"100vh",display:"flex",flexGrow:"1",flexDirection:"column",verticalAlign:"top",marginLeft:t,position:"relative",overflow:"hidden",transition:"all 0.3s ease",marginRight:n?50:0})),pn=()=>{const{settings:t,updateSettings:n}=j(),{layout1Settings:o,secondarySidebar:a}=t,i=t.themes[o.topbar.theme],{leftSidebar:{mode:s,show:d}}=o,l=(()=>{switch(s){case"full":return z;case"compact":return re;default:return"0px"}})(),h=S(),g=ie(h.breakpoints.down("md")),b=x.useRef({isMdScreen:g,settings:t}),u=`theme-${h.palette.primary}`;return x.useEffect(()=>{let{settings:f}=b.current,m=f.layout1Settings.leftSidebar.mode;f.layout1Settings.leftSidebar.show&&n({layout1Settings:{leftSidebar:{mode:g?"close":m}}})},[g]),e.jsxs(rn,{className:u,children:[d&&s!=="close"&&e.jsx(jt,{children:e.jsx(Gt,{})}),e.jsxs(dn,{width:l,open:a.open,children:[o.topbar.show&&o.topbar.fixed&&e.jsx(e.Fragment,{children:e.jsxs(w,{theme:i,children:[e.jsx(P,{fixed:!0,className:"elevation-z8"}),e.jsx(E,{})]})}),t.perfectScrollbar&&e.jsxs(ln,{children:[o.topbar.show&&!o.topbar.fixed&&e.jsxs(w,{theme:i,children:[e.jsx(P,{}),e.jsx(E,{})]}),e.jsx(p,{flexGrow:1,position:"relative",children:e.jsx(W,{children:e.jsx(q,{})})}),t.footer.show&&!t.footer.fixed&&e.jsx(M,{})]}),!t.perfectScrollbar&&e.jsxs(cn,{children:[o.topbar.show&&!o.topbar.fixed&&e.jsxs(w,{theme:i,children:[e.jsx(P,{}),e.jsx(E,{})]}),e.jsx(p,{flexGrow:1,position:"relative",children:e.jsx(W,{children:e.jsx(q,{})})}),t.footer.show&&!t.footer.fixed&&e.jsx(M,{})]}),t.footer.show&&t.footer.fixed&&e.jsx(M,{})]})]})},eo=y.memo(pn);export{eo as default};
