import{j as o}from"./react-C-yax-zd.js";import{o as u}from"./@hookform-CI7dTiWF.js";import{u as l}from"./react-hook-form-Cc6cmx_T.js";import{S as g}from"./SimpleContainer-tFVAehGQ.js";import{B as x}from"./Breadcrumb-BAVYU1BR.js";import{n as f}from"./notification-CZdNX9HX.js";import{A as P,s as j,a as c}from"./index-eXxrUaeE.js";import{g as h,G as S}from"./graphql-request-rGYrdPjm.js";import{P as v,a as b,b as C,c as R,d as A,p as I,e as w,f as y}from"./ProductoProveedor-kBxaSeD9.js";import{a as E}from"./react-router-m6rhPc7O.js";import{aF as F,P as O,k as T,g as k,bq as q,aJ as r}from"./@mui-Cg5JgIJd.js";import"./@babel-BWOPM2cf.js";import"./react-router-dom-BXf9Krd-.js";import"./react-dom-BMaWjgIA.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-DEp2-txB.js";import"./react-toastify-Bq65RiZx.js";import"./clsx-B-dksMZM.js";import"./rc-input-number-DHeBSjOn.js";import"./@rc-component-BLzWySNC.js";import"./classnames-F3cnkUDL.js";import"./rc-input-CDxr26_S.js";import"./rc-util-RNQGGLoE.js";import"./react-is-DcfIKM1A.js";import"./react-datepicker-D7PCQ8zk.js";import"./date-fns-9p2ure4y.js";import"./react-onclickoutside-vgQ6ifgl.js";import"./@floating-ui-BqRERJ-b.js";import"./perfect-scrollbar-BfaLzep3.js";import"./@tanstack-CH50zjZF.js";import"./lodash-Dwhj6_6J.js";import"./jwt-decode-VWaDGczM.js";import"./sweetalert2-CxYvYGPM.js";import"./nanoid-CeQjyfxW.js";import"./@emotion-D9k8Qpvi.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./stylis-NkKAe6Bn.js";import"./react-transition-group-C1IEqfrK.js";import"./dom-helpers-D0mFdbeO.js";import"./prop-types-tGFuYKac.js";import"./@popperjs-BQBsAJpH.js";import"./graphql-BS3ZITc9.js";import"./cross-fetch-Ml2K_YIJ.js";import"./yup-DbVgGITq.js";import"./property-expr-DEi1ZLzV.js";import"./tiny-case-BJ7jYKNY.js";import"./toposort-CW3e93qZ.js";import"./yup-locales-C3yB5wWh.js";import"./react-select-u2NJ9wTD.js";import"./use-isomorphic-layout-effect-CqeZr6kb.js";import"./memoize-one-BdPwpGay.js";import"./AlertLoading-CGYU8vZk.js";import"./Typography-SNySdv6H.js";import"./MyInputLabel-BamhhSIO.js";import"./ReactSelect-CWkwVJtW.js";import"./SimpleCard-Cf1MrNuW.js";import"./AlertError-Drenn0X8.js";import"./FormTextField-DeIeSGMe.js";import"./alicuotas.api-CZZvmd9z.js";import"./useQueryActividadesPorDocumentoSector-CljpSRED.js";import"./NumeroMask-BhIfq4lN.js";import"./imask-JlAOpWDu.js";import"./react-imask-BXhbtwMr.js";import"./ProveedorRegistroDialog-Ce0LZXWf.js";const B=h`
  mutation EXPO_PRODUCTO_REGISTRO($codigoProducto: String!, $input: IceProductoInput!) {
    iceProductoRegistro(codigoProducto: $codigoProducto, input: $input) {
      codigoProducto
      descripcion
      subPartidaArancelaria
      alicuotaDescripcion
      alicuotaEspecifica
      alicuotaPorcentual
      usucre
      usumod
      createdAt
      updatedAt
      state
    }
  }
`,D=async(m,s)=>{const t=new S("https://sandbox.isipass.net/api"),a=localStorage.getItem(P);return t.setHeader("authorization",`Bearer ${a}`),(await t.request(B,{codigoProducto:m,input:s})).iceProductoRegistro},Xo=m=>{const s=E(),t=l({defaultValues:{...A},resolver:u(y)}),a=async e=>{await I(e);const p=e.codigoProducto,n=w(e);await j({preConfirm:async()=>{const i=await D(p,n).catch(d=>({error:d}));return i.error?(c(i.error),!1):i}}).then(i=>{i.isConfirmed&&(f(),s("/productos/gestion/",{replace:!0})),i.isDenied&&c(i.value)})};return o.jsxs(g,{children:[o.jsx("div",{className:"breadcrumb",children:o.jsx(x,{routeSegments:[{name:"Servicios",path:"/productos/gestion"},{name:"Nuevo Producto / Servicio"}]})}),o.jsx(F,{}),o.jsx(O,{elevation:0,variant:"elevation",square:!0,sx:{mb:2,p:.5,bgcolor:"#FAFAFA"},className:"asideSidebarFixed",children:o.jsx(T,{direction:{xs:"column",sm:"row"},style:{marginTop:2},spacing:{xs:1,sm:1,md:1,xl:1},justifyContent:"flex-end",children:o.jsx(k,{color:"success",startIcon:o.jsx(q,{}),variant:"contained",onClick:t.handleSubmit(a),children:"Guardar Servicio"})})}),o.jsxs(r,{container:!0,spacing:2,children:[o.jsx(r,{item:!0,lg:8,md:8,xs:12,children:o.jsxs(r,{container:!0,spacing:1,children:[o.jsx(r,{item:!0,lg:12,md:12,xs:12,children:o.jsx(v,{form:t})}),o.jsx(r,{item:!0,lg:12,md:12,xs:12,children:o.jsx(b,{form:t})})]})}),o.jsx(r,{item:!0,lg:4,md:4,xs:12,children:o.jsxs(r,{container:!0,spacing:1,children:[o.jsx(r,{item:!0,lg:12,md:12,xs:12,children:o.jsx(C,{form:t})}),o.jsx(r,{item:!0,lg:12,md:12,xs:12,children:o.jsx(R,{form:t})})]})})]})]})};export{Xo as default};
