import{r as g,R as Ot}from"./react-C-yax-zd.js";import{r as Vt}from"./react-dom-BMaWjgIA.js";const q=Math.min,H=Math.max,et=Math.round,J=Math.floor,$=t=>({x:t,y:t}),$t={left:"right",right:"left",bottom:"top",top:"bottom"},_t={start:"end",end:"start"};function Ht(t,e,o){return H(t,q(e,o))}function it(t,e){return typeof t=="function"?t(e):t}function U(t){return t.split("-")[0]}function Z(t){return t.split("-")[1]}function jt(t){return t==="x"?"y":"x"}function ut(t){return t==="y"?"height":"width"}function dt(t){return["top","bottom"].includes(U(t))?"y":"x"}function mt(t){return jt(dt(t))}function zt(t,e,o){o===void 0&&(o=!1);const n=Z(t),r=mt(t),s=ut(r);let i=r==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(i=nt(i)),[i,nt(i)]}function Xt(t){const e=nt(t);return[ft(t),e,ft(e)]}function ft(t){return t.replace(/start|end/g,e=>_t[e])}function Yt(t,e,o){const n=["left","right"],r=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return o?e?r:n:e?n:r;case"left":case"right":return e?s:i;default:return[]}}function qt(t,e,o,n){const r=Z(t);let s=Yt(U(t),o==="start",n);return r&&(s=s.map(i=>i+"-"+r),e&&(s=s.concat(s.map(ft)))),s}function nt(t){return t.replace(/left|right|bottom|top/g,e=>$t[e])}function Ut(t){return{top:0,right:0,bottom:0,left:0,...t}}function At(t){return typeof t!="number"?Ut(t):{top:t,right:t,bottom:t,left:t}}function ot(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function wt(t,e,o){let{reference:n,floating:r}=t;const s=dt(e),i=mt(e),c=ut(i),l=U(e),f=s==="y",a=n.x+n.width/2-r.width/2,m=n.y+n.height/2-r.height/2,p=n[c]/2-r[c]/2;let u;switch(l){case"top":u={x:a,y:n.y-r.height};break;case"bottom":u={x:a,y:n.y+n.height};break;case"right":u={x:n.x+n.width,y:m};break;case"left":u={x:n.x-r.width,y:m};break;default:u={x:n.x,y:n.y}}switch(Z(e)){case"start":u[i]-=p*(o&&f?-1:1);break;case"end":u[i]+=p*(o&&f?-1:1);break}return u}const Kt=async(t,e,o)=>{const{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:i}=o,c=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let f=await i.getElementRects({reference:t,floating:e,strategy:r}),{x:a,y:m}=wt(f,n,l),p=n,u={},h=0;for(let w=0;w<c.length;w++){const{name:v,fn:x}=c[w],{x:b,y:R,data:y,reset:d}=await x({x:a,y:m,initialPlacement:n,placement:p,strategy:r,middlewareData:u,rects:f,platform:i,elements:{reference:t,floating:e}});a=b??a,m=R??m,u={...u,[v]:{...u[v],...y}},d&&h<=50&&(h++,typeof d=="object"&&(d.placement&&(p=d.placement),d.rects&&(f=d.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:r}):d.rects),{x:a,y:m}=wt(f,p,l)),w=-1)}return{x:a,y:m,placement:p,strategy:r,middlewareData:u}};async function Qt(t,e){var o;e===void 0&&(e={});const{x:n,y:r,platform:s,rects:i,elements:c,strategy:l}=t,{boundary:f="clippingAncestors",rootBoundary:a="viewport",elementContext:m="floating",altBoundary:p=!1,padding:u=0}=it(e,t),h=At(u),v=c[p?m==="floating"?"reference":"floating":m],x=ot(await s.getClippingRect({element:(o=await(s.isElement==null?void 0:s.isElement(v)))==null||o?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:f,rootBoundary:a,strategy:l})),b=m==="floating"?{...i.floating,x:n,y:r}:i.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),y=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},d=ot(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:R,strategy:l}):b);return{top:(x.top-d.top+h.top)/y.y,bottom:(d.bottom-x.bottom+h.bottom)/y.y,left:(x.left-d.left+h.left)/y.x,right:(d.right-x.right+h.right)/y.x}}const Zt=t=>({name:"arrow",options:t,async fn(e){const{x:o,y:n,placement:r,rects:s,platform:i,elements:c,middlewareData:l}=e,{element:f,padding:a=0}=it(t,e)||{};if(f==null)return{};const m=At(a),p={x:o,y:n},u=mt(r),h=ut(u),w=await i.getDimensions(f),v=u==="y",x=v?"top":"left",b=v?"bottom":"right",R=v?"clientHeight":"clientWidth",y=s.reference[h]+s.reference[u]-p[u]-s.floating[h],d=p[u]-s.reference[u],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(f));let C=E?E[R]:0;(!C||!await(i.isElement==null?void 0:i.isElement(E)))&&(C=c.floating[R]||s.floating[h]);const L=y/2-d/2,N=C/2-w[h]/2-1,M=q(m[x],N),W=q(m[b],N),A=M,k=C-w[h]-W,P=C/2-w[h]/2+L,S=Ht(A,P,k),T=!l.arrow&&Z(r)!=null&&P!==S&&s.reference[h]/2-(P<A?M:W)-w[h]/2<0,O=T?P<A?P-A:P-k:0;return{[u]:p[u]+O,data:{[u]:S,centerOffset:P-S-O,...T&&{alignmentOffset:O}},reset:T}}}),Gt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var o,n;const{placement:r,middlewareData:s,rects:i,initialPlacement:c,platform:l,elements:f}=e,{mainAxis:a=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:w=!0,...v}=it(t,e);if((o=s.arrow)!=null&&o.alignmentOffset)return{};const x=U(r),b=U(c)===c,R=await(l.isRTL==null?void 0:l.isRTL(f.floating)),y=p||(b||!w?[nt(c)]:Xt(c));!p&&h!=="none"&&y.push(...qt(c,w,h,R));const d=[c,...y],E=await Qt(e,v),C=[];let L=((n=s.flip)==null?void 0:n.overflows)||[];if(a&&C.push(E[x]),m){const A=zt(r,i,R);C.push(E[A[0]],E[A[1]])}if(L=[...L,{placement:r,overflows:C}],!C.every(A=>A<=0)){var N,M;const A=(((N=s.flip)==null?void 0:N.index)||0)+1,k=d[A];if(k)return{data:{index:A,overflows:L},reset:{placement:k}};let P=(M=L.filter(S=>S.overflows[0]<=0).sort((S,T)=>S.overflows[1]-T.overflows[1])[0])==null?void 0:M.placement;if(!P)switch(u){case"bestFit":{var W;const S=(W=L.map(T=>[T.placement,T.overflows.filter(O=>O>0).reduce((O,z)=>O+z,0)]).sort((T,O)=>T[1]-O[1])[0])==null?void 0:W[0];S&&(P=S);break}case"initialPlacement":P=c;break}if(r!==P)return{reset:{placement:P}}}return{}}}};async function Jt(t,e){const{placement:o,platform:n,elements:r}=t,s=await(n.isRTL==null?void 0:n.isRTL(r.floating)),i=U(o),c=Z(o),l=dt(o)==="y",f=["left","top"].includes(i)?-1:1,a=s&&l?-1:1,m=it(e,t);let{mainAxis:p,crossAxis:u,alignmentAxis:h}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return c&&typeof h=="number"&&(u=c==="end"?h*-1:h),l?{x:u*a,y:p*f}:{x:p*f,y:u*a}}const Fe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var o,n;const{x:r,y:s,placement:i,middlewareData:c}=e,l=await Jt(e,t);return i===((o=c.offset)==null?void 0:o.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:i}}}}};function _(t){return Pt(t)?(t.nodeName||"").toLowerCase():"#document"}function F(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function V(t){var e;return(e=(Pt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Pt(t){return t instanceof Node||t instanceof F(t).Node}function D(t){return t instanceof Element||t instanceof F(t).Element}function I(t){return t instanceof HTMLElement||t instanceof F(t).HTMLElement}function xt(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof F(t).ShadowRoot}function G(t){const{overflow:e,overflowX:o,overflowY:n,display:r}=B(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(r)}function te(t){return["table","td","th"].includes(_(t))}function gt(t){const e=pt(),o=B(t);return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!e&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!e&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function ee(t){let e=K(t);for(;I(e)&&!st(e);){if(gt(e))return e;e=K(e)}return null}function pt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function st(t){return["html","body","#document"].includes(_(t))}function B(t){return F(t).getComputedStyle(t)}function ct(t){return D(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function K(t){if(_(t)==="html")return t;const e=t.assignedSlot||t.parentNode||xt(t)&&t.host||V(t);return xt(e)?e.host:e}function St(t){const e=K(t);return st(e)?t.ownerDocument?t.ownerDocument.body:t.body:I(e)&&G(e)?e:St(e)}function Q(t,e,o){var n;e===void 0&&(e=[]),o===void 0&&(o=!0);const r=St(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=F(r);return s?e.concat(i,i.visualViewport||[],G(r)?r:[],i.frameElement&&o?Q(i.frameElement):[]):e.concat(r,Q(r,[],o))}function Lt(t){const e=B(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=I(t),s=r?t.offsetWidth:o,i=r?t.offsetHeight:n,c=et(o)!==s||et(n)!==i;return c&&(o=s,n=i),{width:o,height:n,$:c}}function ht(t){return D(t)?t:t.contextElement}function Y(t){const e=ht(t);if(!I(e))return $(1);const o=e.getBoundingClientRect(),{width:n,height:r,$:s}=Lt(e);let i=(s?et(o.width):o.width)/n,c=(s?et(o.height):o.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const ne=$(0);function Tt(t){const e=F(t);return!pt()||!e.visualViewport?ne:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function oe(t,e,o){return e===void 0&&(e=!1),!o||e&&o!==F(t)?!1:e}function j(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const r=t.getBoundingClientRect(),s=ht(t);let i=$(1);e&&(n?D(n)&&(i=Y(n)):i=Y(t));const c=oe(s,o,n)?Tt(s):$(0);let l=(r.left+c.x)/i.x,f=(r.top+c.y)/i.y,a=r.width/i.x,m=r.height/i.y;if(s){const p=F(s),u=n&&D(n)?F(n):n;let h=p,w=h.frameElement;for(;w&&n&&u!==h;){const v=Y(w),x=w.getBoundingClientRect(),b=B(w),R=x.left+(w.clientLeft+parseFloat(b.paddingLeft))*v.x,y=x.top+(w.clientTop+parseFloat(b.paddingTop))*v.y;l*=v.x,f*=v.y,a*=v.x,m*=v.y,l+=R,f+=y,h=F(w),w=h.frameElement}}return ot({width:a,height:m,x:l,y:f})}const re=[":popover-open",":modal"];function Dt(t){return re.some(e=>{try{return t.matches(e)}catch{return!1}})}function ie(t){let{elements:e,rect:o,offsetParent:n,strategy:r}=t;const s=r==="fixed",i=V(n),c=e?Dt(e.floating):!1;if(n===i||c&&s)return o;let l={scrollLeft:0,scrollTop:0},f=$(1);const a=$(0),m=I(n);if((m||!m&&!s)&&((_(n)!=="body"||G(i))&&(l=ct(n)),I(n))){const p=j(n);f=Y(n),a.x=p.x+n.clientLeft,a.y=p.y+n.clientTop}return{width:o.width*f.x,height:o.height*f.y,x:o.x*f.x-l.scrollLeft*f.x+a.x,y:o.y*f.y-l.scrollTop*f.y+a.y}}function se(t){return Array.from(t.getClientRects())}function Ft(t){return j(V(t)).left+ct(t).scrollLeft}function ce(t){const e=V(t),o=ct(t),n=t.ownerDocument.body,r=H(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=H(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let i=-o.scrollLeft+Ft(t);const c=-o.scrollTop;return B(n).direction==="rtl"&&(i+=H(e.clientWidth,n.clientWidth)-r),{width:r,height:s,x:i,y:c}}function le(t,e){const o=F(t),n=V(t),r=o.visualViewport;let s=n.clientWidth,i=n.clientHeight,c=0,l=0;if(r){s=r.width,i=r.height;const f=pt();(!f||f&&e==="fixed")&&(c=r.offsetLeft,l=r.offsetTop)}return{width:s,height:i,x:c,y:l}}function fe(t,e){const o=j(t,!0,e==="fixed"),n=o.top+t.clientTop,r=o.left+t.clientLeft,s=I(t)?Y(t):$(1),i=t.clientWidth*s.x,c=t.clientHeight*s.y,l=r*s.x,f=n*s.y;return{width:i,height:c,x:l,y:f}}function yt(t,e,o){let n;if(e==="viewport")n=le(t,o);else if(e==="document")n=ce(V(t));else if(D(e))n=fe(e,o);else{const r=Tt(t);n={...e,x:e.x-r.x,y:e.y-r.y}}return ot(n)}function Mt(t,e){const o=K(t);return o===e||!D(o)||st(o)?!1:B(o).position==="fixed"||Mt(o,e)}function ae(t,e){const o=e.get(t);if(o)return o;let n=Q(t,[],!1).filter(c=>D(c)&&_(c)!=="body"),r=null;const s=B(t).position==="fixed";let i=s?K(t):t;for(;D(i)&&!st(i);){const c=B(i),l=gt(i);!l&&c.position==="fixed"&&(r=null),(s?!l&&!r:!l&&c.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||G(i)&&!l&&Mt(t,i))?n=n.filter(a=>a!==i):r=c,i=K(i)}return e.set(t,n),n}function ue(t){let{element:e,boundary:o,rootBoundary:n,strategy:r}=t;const i=[...o==="clippingAncestors"?ae(e,this._c):[].concat(o),n],c=i[0],l=i.reduce((f,a)=>{const m=yt(e,a,r);return f.top=H(m.top,f.top),f.right=q(m.right,f.right),f.bottom=q(m.bottom,f.bottom),f.left=H(m.left,f.left),f},yt(e,c,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function de(t){const{width:e,height:o}=Lt(t);return{width:e,height:o}}function me(t,e,o){const n=I(e),r=V(e),s=o==="fixed",i=j(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const l=$(0);if(n||!n&&!s)if((_(e)!=="body"||G(r))&&(c=ct(e)),n){const m=j(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else r&&(l.x=Ft(r));const f=i.left+c.scrollLeft-l.x,a=i.top+c.scrollTop-l.y;return{x:f,y:a,width:i.width,height:i.height}}function vt(t,e){return!I(t)||B(t).position==="fixed"?null:e?e(t):t.offsetParent}function kt(t,e){const o=F(t);if(!I(t)||Dt(t))return o;let n=vt(t,e);for(;n&&te(n)&&B(n).position==="static";)n=vt(n,e);return n&&(_(n)==="html"||_(n)==="body"&&B(n).position==="static"&&!gt(n))?o:n||ee(t)||o}const ge=async function(t){const e=this.getOffsetParent||kt,o=this.getDimensions;return{reference:me(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await o(t.floating)}}};function pe(t){return B(t).direction==="rtl"}const Bt={convertOffsetParentRelativeRectToViewportRelativeRect:ie,getDocumentElement:V,getClippingRect:ue,getOffsetParent:kt,getElementRects:ge,getClientRects:se,getDimensions:de,getScale:Y,isElement:D,isRTL:pe};function he(t,e){let o=null,n;const r=V(t);function s(){var c;clearTimeout(n),(c=o)==null||c.disconnect(),o=null}function i(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),s();const{left:f,top:a,width:m,height:p}=t.getBoundingClientRect();if(c||e(),!m||!p)return;const u=J(a),h=J(r.clientWidth-(f+m)),w=J(r.clientHeight-(a+p)),v=J(f),b={rootMargin:-u+"px "+-h+"px "+-w+"px "+-v+"px",threshold:H(0,q(1,l))||1};let R=!0;function y(d){const E=d[0].intersectionRatio;if(E!==l){if(!R)return i();E?i(!1,E):n=setTimeout(()=>{i(!1,1e-7)},100)}R=!1}try{o=new IntersectionObserver(y,{...b,root:r.ownerDocument})}catch{o=new IntersectionObserver(y,b)}o.observe(t)}return i(!0),s}function Me(t,e,o,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,f=ht(t),a=r||s?[...f?Q(f):[],...Q(e)]:[];a.forEach(x=>{r&&x.addEventListener("scroll",o,{passive:!0}),s&&x.addEventListener("resize",o)});const m=f&&c?he(f,o):null;let p=-1,u=null;i&&(u=new ResizeObserver(x=>{let[b]=x;b&&b.target===f&&u&&(u.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var R;(R=u)==null||R.observe(e)})),o()}),f&&!l&&u.observe(f),u.observe(e));let h,w=l?j(t):null;l&&v();function v(){const x=j(t);w&&(x.x!==w.x||x.y!==w.y||x.width!==w.width||x.height!==w.height)&&o(),w=x,h=requestAnimationFrame(v)}return o(),()=>{var x;a.forEach(b=>{r&&b.removeEventListener("scroll",o),s&&b.removeEventListener("resize",o)}),m==null||m(),(x=u)==null||x.disconnect(),u=null,l&&cancelAnimationFrame(h)}}const ke=Gt,bt=Zt,we=(t,e,o)=>{const n=new Map,r={platform:Bt,...o},s={...r.platform,_c:n};return Kt(t,e,{...r,platform:s})},Be=t=>{function e(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:t,fn(o){const{element:n,padding:r}=typeof t=="function"?t(o):t;return n&&e(n)?n.current!=null?bt({element:n.current,padding:r}).fn(o):{}:n?bt({element:n,padding:r}).fn(o):{}}}};var tt=typeof document<"u"?g.useLayoutEffect:g.useEffect;function rt(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let o,n,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(o=t.length,o!==e.length)return!1;for(n=o;n--!==0;)if(!rt(t[n],e[n]))return!1;return!0}if(r=Object.keys(t),o=r.length,o!==Object.keys(e).length)return!1;for(n=o;n--!==0;)if(!{}.hasOwnProperty.call(e,r[n]))return!1;for(n=o;n--!==0;){const s=r[n];if(!(s==="_owner"&&t.$$typeof)&&!rt(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Wt(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Rt(t,e){const o=Wt(t);return Math.round(e*o)/o}function Et(t){const e=g.useRef(t);return tt(()=>{e.current=t}),e}function xe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:o="absolute",middleware:n=[],platform:r,elements:{reference:s,floating:i}={},transform:c=!0,whileElementsMounted:l,open:f}=t,[a,m]=g.useState({x:0,y:0,strategy:o,placement:e,middlewareData:{},isPositioned:!1}),[p,u]=g.useState(n);rt(p,n)||u(n);const[h,w]=g.useState(null),[v,x]=g.useState(null),b=g.useCallback(O=>{O!==E.current&&(E.current=O,w(O))},[]),R=g.useCallback(O=>{O!==C.current&&(C.current=O,x(O))},[]),y=s||h,d=i||v,E=g.useRef(null),C=g.useRef(null),L=g.useRef(a),N=l!=null,M=Et(l),W=Et(r),A=g.useCallback(()=>{if(!E.current||!C.current)return;const O={placement:e,strategy:o,middleware:p};W.current&&(O.platform=W.current),we(E.current,C.current,O).then(z=>{const X={...z,isPositioned:!0};k.current&&!rt(L.current,X)&&(L.current=X,Vt.flushSync(()=>{m(X)}))})},[p,e,o,W]);tt(()=>{f===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,m(O=>({...O,isPositioned:!1})))},[f]);const k=g.useRef(!1);tt(()=>(k.current=!0,()=>{k.current=!1}),[]),tt(()=>{if(y&&(E.current=y),d&&(C.current=d),y&&d){if(M.current)return M.current(y,d,A);A()}},[y,d,A,M,N]);const P=g.useMemo(()=>({reference:E,floating:C,setReference:b,setFloating:R}),[b,R]),S=g.useMemo(()=>({reference:y,floating:d}),[y,d]),T=g.useMemo(()=>{const O={position:o,left:0,top:0};if(!S.floating)return O;const z=Rt(S.floating,a.x),X=Rt(S.floating,a.y);return c?{...O,transform:"translate("+z+"px, "+X+"px)",...Wt(S.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:z,top:X}},[o,c,S.floating,a.x,a.y]);return g.useMemo(()=>({...a,update:A,refs:P,elements:S,floatingStyles:T}),[a,A,P,S,T])}const ye=Ot.useInsertionEffect,ve=ye||(t=>t());function be(t){const e=g.useRef(()=>{});return ve(()=>{e.current=t}),g.useCallback(function(){for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return e.current==null?void 0:e.current(...n)},[])}var It=typeof document<"u"?g.useLayoutEffect:g.useEffect;function at(){return at=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},at.apply(this,arguments)}let lt=!1,Re=0;const Ct=()=>"floating-ui-"+Re++;function Ee(){const[t,e]=g.useState(()=>lt?Ct():void 0);return It(()=>{t==null&&e(Ct())},[]),g.useEffect(()=>{lt||(lt=!0)},[]),t}const Ce=Ot.useId,Nt=Ce||Ee,We=g.forwardRef(function(e,o){let{context:{placement:n,elements:{floating:r},middlewareData:{arrow:s}},width:i=14,height:c=7,tipRadius:l=0,strokeWidth:f=0,staticOffset:a,stroke:m,d:p,style:{transform:u,...h}={},...w}=e;const v=Nt();if(!r)return null;f*=2;const x=f/2,b=i/2*(l/-8+1),R=c/2*l/4,[y,d]=n.split("-"),E=Bt.isRTL(r),C=!!p,L=y==="top"||y==="bottom",N=a&&d==="end"?"bottom":"top";let M=a&&d==="end"?"right":"left";a&&E&&(M=d==="end"?"left":"right");const W=(s==null?void 0:s.x)!=null?a||s.x:"",A=(s==null?void 0:s.y)!=null?a||s.y:"",k=p||"M0,0"+(" H"+i)+(" L"+(i-b)+","+(c-R))+(" Q"+i/2+","+c+" "+b+","+(c-R))+" Z",P={top:C?"rotate(180deg)":"",left:C?"rotate(90deg)":"rotate(-90deg)",bottom:C?"":"rotate(180deg)",right:C?"rotate(-90deg)":"rotate(90deg)"}[y];return g.createElement("svg",at({},w,{"aria-hidden":!0,ref:o,width:C?i:i+f,height:i,viewBox:"0 0 "+i+" "+(c>i?c:i),style:{position:"absolute",pointerEvents:"none",[M]:W,[N]:A,[y]:L||C?"100%":"calc(100% - "+f/2+"px)",transform:""+P+(u??""),...h}}),f>0&&g.createElement("path",{clipPath:"url(#"+v+")",fill:"none",stroke:m,strokeWidth:f+(p?0:1),d:k}),g.createElement("path",{stroke:f&&!p?w.fill:"none",d:k}),g.createElement("clipPath",{id:v},g.createElement("rect",{x:-x,y:x*(C?-1:1),width:i+f,height:i})))});function Oe(){const t=new Map;return{emit(e,o){var n;(n=t.get(e))==null||n.forEach(r=>r(o))},on(e,o){t.set(e,[...t.get(e)||[],o])},off(e,o){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(r=>r!==o))||[])}}}const Ae=g.createContext(null),Pe=g.createContext(null),Se=()=>{var t;return((t=g.useContext(Ae))==null?void 0:t.id)||null},Le=()=>g.useContext(Pe);function Ie(t){var e;t===void 0&&(t={});const{open:o=!1,onOpenChange:n,nodeId:r}=t,[s,i]=g.useState(null),c=((e=t.elements)==null?void 0:e.reference)||s,l=xe(t),f=Le(),a=Se()!=null,m=be((d,E,C)=>{d&&(u.current.openEvent=E),h.emit("openchange",{open:d,event:E,reason:C,nested:a}),n==null||n(d,E,C)}),p=g.useRef(null),u=g.useRef({}),h=g.useState(()=>Oe())[0],w=Nt(),v=g.useCallback(d=>{const E=D(d)?{getBoundingClientRect:()=>d.getBoundingClientRect(),contextElement:d}:d;l.refs.setReference(E)},[l.refs]),x=g.useCallback(d=>{(D(d)||d===null)&&(p.current=d,i(d)),(D(l.refs.reference.current)||l.refs.reference.current===null||d!==null&&!D(d))&&l.refs.setReference(d)},[l.refs]),b=g.useMemo(()=>({...l.refs,setReference:x,setPositionReference:v,domReference:p}),[l.refs,x,v]),R=g.useMemo(()=>({...l.elements,domReference:c}),[l.elements,c]),y=g.useMemo(()=>({...l,refs:b,elements:R,dataRef:u,nodeId:r,floatingId:w,events:h,open:o,onOpenChange:m}),[l,r,w,h,o,m,b,R]);return It(()=>{const d=f==null?void 0:f.nodesRef.current.find(E=>E.id===r);d&&(d.context=y)}),g.useMemo(()=>({...l,context:y,refs:b,elements:R}),[l,b,R,y])}export{We as F,Me as a,Be as b,ke as f,Fe as o,Ie as u};
